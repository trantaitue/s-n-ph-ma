<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>G·ª≠i ng∆∞·ªùi anh y√™u ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Dancing+Script:wght@500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
    height:100vh;
    background:radial-gradient(circle at top,#ffd1dc,#ffe6f0,#ffd1dc);
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:'Dancing Script',cursive;
}

/* FALL EFFECT */
.fall{
    position:fixed;
    top:-30px;
    z-index:1;
    pointer-events:none;
    animation:fall linear infinite;
}
@keyframes fall{
    to{transform:translateY(110vh) rotate(360deg);opacity:0}
}

/* ENVELOPE */
.envelope{
    width:460px;
    height:320px;
    background:linear-gradient(135deg,#ff6f91,#ff9aa2);
    border-radius:28px;
    box-shadow:0 30px 60px rgba(0,0,0,.35);
    position:relative;
    overflow:hidden;
    z-index:10;
    cursor:pointer;
}

/* FRONT */
.front{
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:36px;
    color:#fff;
    font-weight:bold;
    transition:1s;
}

/* CARD */
.card{
    position:absolute;
    inset:22px;
    background:#fff;
    border-radius:20px;
    padding:26px;
    display:flex;
    flex-direction:column;
    justify-content:center;
    text-align:center;
    opacity:0;
    transform:scale(.9);
    transition:1.2s;
}

.card h1{
    font-family:'Great Vibes',cursive;
    font-size:42px;
    color:#ff4d6d;
    margin-bottom:12px;
}

.card p{
    font-size:20px;
    color:#444;
    line-height:1.7;
}

.sign{
    margin-top:14px;
    font-size:24px;
    color:#ff4d6d;
}

/* OPEN */
.open .front{opacity:0}
.open .card{opacity:1;transform:scale(1)}
</style>
</head>
<body>

<div class="envelope" onclick="openCard()">
    <div class="front">üíå Nh·∫•n ƒë·ªÉ m·ªü üíå</div>
    <div class="card">
        <h1>G·ª≠i ng∆∞·ªùi anh y√™u ‚ù§Ô∏è</h1>

        <p id="t1">
            T·ª´ khi em xu·∫•t hi·ªán,<br>
            th·∫ø gi·ªõi c·ªßa anh d·ªãu d√†ng h∆°n.
        </p>

        <p id="t2">
            D√π c√≥ bao nhi√™u th·ª≠ th√°ch,<br>
            <b> h√£y ƒë·ª´ng bao gi·ªù r·ªùi b·ªè anh nh√©.</b>
        </p>

        <div class="sign">M√£i y√™u c√¥ng ch√∫a c·ªßa anh üíñ</div>
    </div>
</div>

<audio id="music" loop>
    <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_3b9f4d7a1c.mp3">
</audio>

<script>
function openCard(){
    document.querySelector('.envelope').classList.toggle('open');
    document.getElementById('music').play();
    typeHTML(document.getElementById("t1"),30,()=>{
        typeHTML(document.getElementById("t2"),30);
    });
}

/* ===== TYPE HI·ªÇU HTML ‚Äì FIX TRI·ªÜT ƒê·ªÇ ===== */
function typeHTML(el,speed,cb){
    const nodes=[...el.childNodes];
    el.innerHTML="";
    let i=0;

    function next(){
        if(i>=nodes.length){
            if(cb)cb();
            return;
        }
        const n=nodes[i++];
        if(n.nodeType===3){ // text
            let txt=n.textContent;
            let j=0;
            const span=document.createElement("span");
            el.appendChild(span);
            const run=setInterval(()=>{
                span.textContent+=txt[j++];
                if(j>=txt.length){
                    clearInterval(run);
                    next();
                }
            },speed);
        }else{
            el.appendChild(n.cloneNode(true));
            next();
        }
    }
    next();
}

/* HEART + FLOWER */
setInterval(()=>{
    const f=document.createElement("div");
    f.className="fall";
    f.innerHTML=Math.random()>0.5?"‚ù§Ô∏è":"üå∏";
    f.style.left=Math.random()*100+"vw";
    f.style.fontSize=14+Math.random()*26+"px";
    f.style.animationDuration=4+Math.random()*4+"s";
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),8000);
},150);
</script>

</body>
</html>
